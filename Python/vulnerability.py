import sqlite3

# Connect to an SQLite database
conn = sqlite3.connect('database.db')
c = conn.cursor()

# Create a table
c.execute('''CREATE TABLE IF NOT EXISTS users
             (id INTEGER PRIMARY KEY, username TEXT, password TEXT)''')

# Insert some dummy data
c.execute("INSERT INTO users (username, password) VALUES ('admin', 'password')")
conn.commit()

# Vulnerable function
def authenticate(username, password):
    query = f"SELECT * FROM users WHERE username='{username}' AND password='{password}'"
    c.execute(query)
    result = c.fetchone()
    if result:
        print("Login successful!")
    else:
        print("Login failed.")

# User input
username = input("Enter username: ")
password = input("Enter password: ")

# Call the vulnerable function
authenticate(username, password)

# Close the connection
conn.close()